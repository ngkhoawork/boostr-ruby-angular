#notification-modal.api-config-modal
  %form{ name: 'api_configuration_form', ng: { submit: 'submitForm()' } }
    .modal-header.text-center
      %a.close{ ng: { click: 'cancel()' } }
        %span{'aria-hidden' => 'true'}
          = inline_svg 'icons/close.svg'
      %h3.modal-title
        %strong
          {{ formType }} Operative Datafeed Integration
    .modal-body
      .form-group
        .row
          .col-xs-12
            %label.control-label{ for: 'switched_on' } Integration Enabled
            .show-hide-remainder-form.toggle-on-modal
              .switch-remainder-form
                %input#switched-on-toggle.cmn-toggle.cmn-toggle-round-flat{type: 'checkbox', 'ng-model': 'api_configuration.switched_on'}
                %label{:for => "switched-on-toggle"}
                  %span
      .form-group
        .row
          .col-xs-12
            %label.control-label{ for: 'integration_provider' } Integration type
            %input.form-control{ ng: { model: 'api_configuration.integration_provider' }, disabled: 'true' }
      .form-group
        .row
          .col-xs-12
            %label.control-label{ for: 'base_link' } Base link
            %input.form-control{ placeholder: 'https://integrations.com/api', ng: { model: 'api_configuration.base_link' }, name: 'base_link', required: true }
      .form-group
        .row
          .col-xs-12
            %label.control-label{ for: 'api_email' } API username
            %input.form-control{ placeholder: 'example@email.com', ng: { model: 'api_configuration.api_email' }, name: 'api_email', required: true  }
      .form-group
        .row{ ng: { if: 'formType == "Edit"' } }
          .col-xs-12
            %label.control-label{ for: 'need_change_password' } Need to change password?
            %input{ ng: { model: 'need_change_password', click: 'set_need_set_password(need_change_password)' }, type: 'checkbox', name: 'need_change_password' }

      .form-group
        .row{ ng: { if: 'need_change_password' } }
          .col-xs-12
            %label.control-label{ for: 'password' } Api password
            %input.form-control{ placeholder: 'Please enter new password', ng: { model: 'api_configuration.password' }, name: 'password', type: 'password' }
      .form-group
        .row
          .col-xs-12
            %label.control-label{ for: 'auto_close_deals' } Auto-Close Deals on IO Import
            .show-hide-remainder-form.toggle-on-modal
              .switch-remainder-form
                %input#auto-close-deal-toggle.cmn-toggle.cmn-toggle-round-flat{type: 'checkbox', 'ng-model': 'api_configuration.datafeed_configuration_details.auto_close_deals'}
                %label{:for => "auto-close-deal-toggle"}
                  %span
    .modal-footer.text-center
      %button.btn.btn-primary.btn-lg{ type: 'submit' } {{ submitText }}
      %a.btn.btn-default.btn-lg{ ng: { click: 'cancel()' } } Cancel