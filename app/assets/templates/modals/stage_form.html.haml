#stage-modal
  %form{ name: 'stage_form', ng: { submit: 'submitForm(stage_form)' }, novalidate: true }
    .modal-header.text-center
      %a.close{ ng: { click: 'cancel()' } }
        %span{'aria-hidden' => 'true'}
          = inline_svg 'icons/close.svg'
      %h3.modal-title
        %strong
          {{ formType }} Stage
    .modal-body
      .form-group
        %label.control-label{ for: 'name' } Name
        %input.form-control{ placeholder: 'Name', ng: { model: 'stage.name' }, name: 'name', required: true, server: true }

      .messages{ ng: { messages: "stage_form.name.$error", if: "stage_form.name.$error && stage_form.submitted" }, role: "alert"}
        .required{ ng: { message: "required", if: "stage_form.name.$error.required"  }}
          You did not enter a name
        .required{ ng: { message: "server", if: "stage_form.name.$error.server"  }}
          Sorry that name is already taken

      .form-group
        .row
          .col-xs-2
            %label.control-label{ for: 'probability' } Probability
            %input.form-control{ placeholder: '85', ng: { model: 'stage.probability' }, name: 'probability', required: true }

          .col-xs-5
            %label.control-label{ for: 'open' } Open/Closed
            .btn-group
              %label.open-button.btn.btn-primary{ ng: { model: 'stage.open' }, btn: { radio: 'true' } }
                Open
              %label.close-button.btn.btn-primary{ ng: { model: 'stage.open' }, btn: { radio: 'false' } }
                Closed
          .col-xs-5
            %label.control-label{ for: 'active' } Active/Archived
            .btn-group
              %label.btn.btn-primary{ ng: { model: 'stage.active' }, btn: { radio: 'true' } }
                Active
              %label.btn.btn-primary{ ng: { model: 'stage.active' }, btn: { radio: 'false' } }
                Archived

      .messages{ ng: { messages: "stage_form.probability.$error", if: "stage_form.probability.$error && stage_form.submitted" }, role: "alert"}
        .required{ ng: { message: "required", if: "stage_form.probability.$error.required"  }}
          You did not enter a probability

    .modal-footer.text-center
      %button.btn.btn-primary.btn-lg{ type: 'submit', ng: { disabled: 'buttonDisabled' } } {{ submitText }}
      %a.btn.btn-default.btn-lg{ ng: { click: 'cancel()' } } Cancel
