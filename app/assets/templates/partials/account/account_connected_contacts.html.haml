.contacts.block
    %div.mb20
        %span.title {{ currentClient.client_type.option.name == 'Advertiser' ? 'Related Agency Contacts' : 'Agency Contacts & Related Advertisers' }}
        %add-button{ng: {if: 'currentClient.client_type.option.name == "Advertiser"', click: 'showNewAccountConnectionContactModal()'} } Add

    %table.table.table-striped
        %thead
            %tr
                %th.left Name
                %th.left {{ currentClient.client_type.option.name == 'Advertiser' ? 'Agency' : 'Advertiser' }}
                %th.left Position
                %th.left Email
                %th.left Phone
                %th.left Status
        %tbody{ ng: { repeat: 'connected_contact in connected_client_contacts'} }
            %tr{ ng: { repeat: 'clientContact in connected_contact._clientContacts'} }
                %td
                    %a{'ng-href': '/contacts/{{connected_contact.contact.id}}'} {{ connected_contact.contact.name }}
                    %i.fa.fa-trash.delete-deal{'ng-click': 'deleteAccountConnectionContact(connected_contact)'}
                %td
                    %a{'ng-href': '/accounts/{{clientContact.client.id}}'}
                        {{ clientContact.client.name }}
                %td
                    {{ connected_contact.contact.position }}
                %td
                    {{ connected_contact.contact.address.email }}
                %td
                    {{ connected_contact.contact.address.mobile }}
                %td.left
                    .dropdown
                        %button.btn.btn-primary.dropdown-toggle{'data-toggle': 'dropdown', type: 'button'}
                            %span.editable
                                {{clientContact.is_active ? 'Active' : 'Inactive'}}
                            %span.caret
                        %ul.dropdown-menu
                            %li{'ng-class': '{active: clientContact.is_active == true}'}
                                %a{'href': '', 'ng-click': 'updateClientContactStatus(clientContact, true)'}
                                    %span.text Active
                            %li{'ng-class': '{active: clientContact.is_active == false}'}
                                %a{'href': '', 'ng-click': 'updateClientContactStatus(clientContact, false)'}
                                    %span.text Inactive