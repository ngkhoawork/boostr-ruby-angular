#dashboard
  .container
    .row
      .col-xs-12
        %h3
          My Stats
    .row
      .col-xs-12
        %div{ ng: { include: "'partials/stats.html'" } }



    .row
      .col-xs-7.pad5
        #activities.section
          %div{ ng: { include: "'partials/activities_dash.html'" } }
        .section
          %div{ ng: { include: "'partials/activities_feed_dash.html'" } }

      #reminders.section.col-xs-5
        %h3
          My Reminders
          %a.add-reminder
            = inline_svg 'icons/add-remainder.svg'

        #reminders-list.panel-group{"aria-multiselectable" => "true", :role => "tablist"}

          -# размножать .item-reminders , обрати внимание - collapseOne они должны быть уникальны
          .panel.panel-default.item-reminders
            #headingOne.panel-heading{:role => "tab"}
              .checkbox-wrapper
                %label{ for: 'this.id'}
                  %input{ type: 'checkbox', id: 'this.id' }
              .text-wrap
                %p Zazmic inc
                %p.name Call Sem
                %p.red Today, Sun, Julu, 24 at 09:00 AM
                -# в зависимости от даты, нужно красить в разный цвет - сегодня .red  - завтра .yellow - после завтра и дальше - .silver

              -#на раскрытие деталей напоминалки нужно изменить верхний блок на этот
              .text-wrap
                %p.name.show-details Call Sem

              -# на редактирование
              .text-wrap.edit
                %input.name.short-description{type:'text', name:'edit-short-description', value:'Call Sem '}

              .btn-wrap
                %a.collapsed.show-reminders-details{"aria-controls" => "collapseOne", "aria-expanded" => "true", "data-parent" => "#reminders-list", "data-toggle" => "collapse", :href => "#collapseOne", :role => "button"}
                  = inline_svg 'icons/show-details.svg'
                  -# скрыть детали иконка  = inline_svg 'icons/hide-details.svg'

            #collapseOne.panel-collapse.collapse.in{"aria-labelledby" => "headingOne", :role => "tabpanel"}
              .panel-body.details
                %div
                  %p.due
                    due:
                  %p.date.yellow
                    Today, Sun, Julu, 24 at 09:00 AM
                    -# в зависимости от даты, нужно красить в разный цвет - сегодня .red  - завтра .yellow - после завтра и дальше - .silver
                %div
                  %p.person
                    person:
                  %p.name
                    mr White
                %div
                  %p.note
                    note:
                  %p.description
                    Научить тигера играть в футбол, читать на китайском, и пить настойку боярышника
                %div.edit-delete-wrap
                  %a.btn.edit-reminder edit
                  -# тут на клик нужно будет скрыть блок .panel-body.details, а показать блок - .panel-body.details.details-edit
                  %a.btn.delete-reminder delete
              .panel-body.details.details-edit
                %div
                  %div
                    %p.due
                      due:
                    %p.bs-datepicker.date-edit
                      %span.edit{ datepicker: { popup: 'MMMM d, y', timezone: true }, ng: { model: 'currentDeal.start_date', click: 'startOpened = true', class: '{ editing: startOpened }', change: 'updateDeal()' }, 'is-open': 'startOpened' }
                        {{ currentDeal.start_date | date: 'MMM d, y': '+0000' }}
                  %div
                    %p.person
                      person:
                    %input.name{type:'text', name:'edit-name', value:'mr White'}
                  %div.edit-description-wrap
                    %p.note
                      note:
                    %textarea.description{ name:'edit-description'}
                      Научить тигера играть в футбол, читать на китайском, и пить настойку боярышника
                  %div.action-wrap
                    %a.btn.cancel-edited-reminder cancel
                    %a.btn.save-edited-reminder save


          .panel.panel-default.item-reminders
            #headingTwo.panel-heading{:role => "tab"}
              .checkbox-wrapper
                %label{ for: 'this.id'}
                  %input{ type: 'checkbox', id: 'this.id' }
              .text-wrap
                %p Zazmic inc
                %p.name Call Max
                %p.silver After tomorrow, Sun, August, 11 at 4:00 PM
              .btn-wrap
                %a.collapsed.show-reminders-details{"aria-controls" => "collapseTwo", "aria-expanded" => "true", "data-parent" => "#reminders-list", "data-toggle" => "collapse", :href => "#collapseTwo", :role => "button"}
                  = inline_svg 'icons/show-details.svg'
                  -# скрыть детали иконка  = inline_svg 'icons/hide-details.svg'

            #collapseTwo.panel-collapse.collapse{"aria-labelledby" => "headingTwo", :role => "tabpanel"}
              .panel-body.details
                %div
                  %p.due
                    due:
                  %p.date.red
                    Today, Sun, Julu, 24 at 09:00 AM
                %div
                  %p.person
                    person:
                  %p.name
                    Tigger
                %div
                  %p.note
                    note:
                  %p.description
                    Научить тигера играть в футбол, читать на китайском, и пить настой расторопши
                %div.edit-delete-wrap
                  %a.btn.edit-reminder edit
                  %a.btn.delete-reminder delete

          .panel.panel-default.item-reminders
            #headingThree.panel-heading{:role => "tab"}
              %h4.panel-title
                .checkbox-wrapper
                  %label{ for: 'this.id'}
                    %input{ type: 'checkbox', id: 'this.id' }
              .text-wrap
                %p Zazmic inc
                %p.name Call Sem
                %p.yellow Tomorrow, Sun, Julu, 24 at 09:00 AM
              .btn-wrap
                %a.collapsed.show-reminders-details{"aria-controls" => "collapseThree", "aria-expanded" => "false", "data-parent" => "#reminders-list", "data-toggle" => "collapse", :href => "#collapseThree", :role => "button"}
                  = inline_svg 'icons/show-details.svg'
                  -# скрыть детали иконка  = inline_svg 'icons/hide-details.svg'

            #collapseThree.panel-collapse.collapse{"aria-labelledby" => "headingThree", :role => "tabpanel"}
              .panel-body.details
                %div
                  %p.due
                    due:
                  %p.date.red
                    Today, Sun, Julu, 24 at 09:00 AM
                %div
                  %p.person
                    person:
                  %p.name
                    Wild White Tiger
                %div
                  %p.note
                    note:
                  %p.description
                    Научить тигера играть в баскетбол, читать на английском, и пить водку
                %div.edit-delete-wrap
                  %a.btn.edit-reminder edit
                  %a.btn.delete-reminder delete

        %div.completed-reminders
          %span
            View Completed
          -# %span  Hide Completed  на клик нужно будет показать то что ниже, сменив текст в спане (скрыв спан что выше)

          .completed-reminders.hide-completed-reminders
            -# в таблице собственно выполненые таски, в цикле создаются .main-wrap
            %div.main-wrap
              %div.completed-reminder
                %label
                  %input{ type: 'checkbox', checked: 'checked' }
                %span.completed-name.left
                  Samuel Colt
                %span.completed-date
                  -# обрати внимание, дата в коротком виде
                  Fri, March 25
            %div.main-wrap
              %div.completed-reminder
                %label
                  %input{ type: 'checkbox', checked: 'checked' }
                %span.completed-name.left
                  Anton Colt
                %span.completed-date
                  -# обрати внимание, дата в коротком виде
                  Fri, July 30




      #deals.section.col-xs-5
        %h3
          My Open Deals

        .well.no-deals{ ng: { hide: 'dashboard.deals.length > 0' } }
          .row
            .col-xs-12
              There are no deals yet.
              %a{ href: '', ng: { click: 'showNewDealModal()' } }
                Add deal.

        .table-wrapper{ ng: { show: 'dashboard.deals.length > 0' } }
          %table.table.table-hover.table-striped
            %thead
              %tr
                %th.left Deal
                %th.left Stage
                %th.right Start Date
            %tbody
              %tr{ ng: { repeat: 'row in dashboard.deals'} }
                %td.left
                  %a{ href: '', ng: { href: '/deals/{{row.id}}' } }
                    {{ row.name }}
                %td.left {{ row.stage.name }}
                %td.right {{ row.start_date | date: 'shortDate' }}

        #alerts.section
          %h3
            My Pacing Alerts

          .well.no-alerts{ ng: { hide: 'dashboard.current_user.pos_balance_l_cnt > 0 || dashboard.current_user.neg_balance_l_cnt > 0' } }
            .row
              .col-xs-12
                There are no alerts.

          .table-wrapper{ ng: { show: 'dashboard.current_user.pos_balance_l_cnt > 0 || dashboard.current_user.neg_balance_l_cnt > 0' } }
            %table.table.table-hover.table-striped
              %thead
                %tr
                  %th.left Alert
                  %th.right # Lines
                  %th.right Est. Amount
              %tbody
                %tr{ ng: { show: 'dashboard.current_user.pos_balance_l_cnt > 0' }}
                  %td.left
                    %a{ href: '', ng: { href: '/revenue?filter=upside' } }
                      Revenue Upside Potential
                  %td.right {{ dashboard.current_user.pos_balance_l_cnt }}
                  %td.right {{ dashboard.current_user.pos_balance_l | currency:'$':0 }}
                %tr{ ng: { show: 'dashboard.current_user.neg_balance_l_cnt > 0' }}
                  %td.left
                    %a{ href: '', ng: { href: '/revenue?filter=risk' } }
                      Revenue at Risk
                  %td.right {{ dashboard.current_user.neg_balance_l_cnt }}
                  %td.right {{ dashboard.current_user.neg_balance_l | currency:'$':0 }}
