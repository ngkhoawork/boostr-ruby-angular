#general.z-styles
  .container-fluid
    %span.page-title Validations

    .row
      .col-sm-3
        .panel
          .panel-body
            %h4 Deal Validations
            %h5 Require Deal Billing Contact
            .form-group
              %label.control-label{ for: 'validations' } Select a Stage at which point Billing Contact is always required
              %ui-select{ name: 'percentage', ng: { model: 'billing_contact_validation.criterion.value', disabled: true }, 'on-select': 'updateValidation(billing_contact_validation)' }
                %ui-select-match{ placeholder: 'Select Stage' }
                  {{ $select.selected.name }}
                %ui-select-choices{ repeat: 'stage.probability as stage in stages | orderBy: "[-active, position]"' }
                  %div{ ng: { bind: { html: 'stage.name' } } }

            %h5 Require Account Manager
            .form-group
              %label.control-label{ for: 'validations' } Select a Stage at which point Account Manager is always required
              %ui-select{ name: 'percentage', ng: { model: 'account_manager_validation.criterion.value', disabled: true }, 'on-select': 'updateValidation(account_manager_validation)' }
                %ui-select-match{ placeholder: 'Select Stage' }
                  {{ $select.selected.name }}
                %ui-select-choices{ repeat: 'stage.probability as stage in stages | orderBy: "[-active, position]"' }
                  %div{ ng: { bind: { html: 'stage.name' } } }

            %h5 Can't be closed manually
            .form-group
              %label.control-label{ for: 'disable_close' } Disable Manual change to Closed Won stage
              %z-toggle{'ng-model': 'disable_deal_close_validation.criterion.value', 'ng-change': 'confirmDisableDealWon()',  id: "disable_close"}
              .validation-warning{ng: { if: 'disable_deal_close_validation.criterion.value' }}
                %i.fa.fa-exclamation-triangle{'aria-hidden' => 'true'}
                %span Stages can't be changed to Closed Won manually

            %h5 Restrict Deal Reopen to Admins
            .form-group
              %z-toggle{'ng-model': 'restrict_deal_reopen.criterion.value', 'ng-change': 'restrictDealReopen()',  id: "restrict"}

            %h5 Select which fields are required
            %table.table.table-hover
              %thead
                %tr
                  %th Base field
                  %th Required?
              %tbody
                %tr{ ng: { repeat: 'base_field in deal_base_fields' } }
                  %td {{ base_field.name }}
                  %td
                    %z-toggle{'ng-model': 'base_field.criterion.value', 'ng-change': 'updateValidation(base_field)'}

      .col-sm-3
        .panel
          .panel-body
            %h4 Accounts-Advertiser Required Fields
            %h5 Select which fields are required
            %table.table.table-hover
              %thead
                %tr
                  %th Base field
                  %th Required?
              %tbody
                %tr{ ng: { repeat: 'base_field in advertiser_base_fields' } }
                  %td {{ base_field.name }}
                  %td
                    %z-toggle{'ng-model': 'base_field.criterion.value', 'ng-change': 'updateValidation(base_field)'}

      .col-sm-3
        .panel
          .panel-body
            %h4 Accounts-Agency Required Fields
            %h5 Select which fields are required
            %table.table.table-hover
              %thead
                %tr
                  %th Base field
                  %th Required?
              %tbody
                %tr{ ng: { repeat: 'base_field in agency_base_fields' } }
                  %td {{ base_field.name }}
                  %td
                    %z-toggle{'ng-model': 'base_field.criterion.value', 'ng-change': 'updateValidation(base_field)'}