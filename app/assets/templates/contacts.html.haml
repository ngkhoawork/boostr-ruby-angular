#contacts.z-styles
	.z-sliding-filter{'ng-class': '{open: filter.isOpen}'}
		.header
			Filter
			%span.pull-right{'ng-click': 'filter.close($event)'} Close
		.body
			.filter-row
				.filter-name
					%div
						Worked At
				.filter-dropdown
					%i.fa.fa-close{'ng-show': 'filter.selected.owner', 'ng-click': 'filter.reset("owner")'}
					%span{'dropdown': '', 'keyboard-nav': '', 'on-toggle': 'filter.onDropdownToggle()'}
						.dropdown-button{'dropdown-toggle': '', 'ng-class': '{selected: filter.selected.owner}'}
							{{filter.selected.owner || 'Select an owner'}}
							%span.caret
						.dropdown-menu{'dropdown-menu': '', role: 'menu'}
							.form-group.dropdown-search{'ng-click': '$event.stopPropagation()'}
								%i.fa.fa-search
								%input.form-control{'placeholder': 'Search', 'ng-model': 'filter.search'}
							%span.dropdown-title Select from list
							.dropdown-option{'ng-repeat': 'owner in filter.owners | filter: filtering | limitTo: 10', role: 'menuitem'}
								%a{href: '', 'ng-click': 'filter.select("owner", owner)'} {{owner}}
			.filter-row
				.filter-name
					%div
						Job Level
				.filter-dropdown
					%i.fa.fa-close{'ng-show': 'filter.selected.advertiser', 'ng-click': 'filter.reset("advertiser")'}
					%span{'dropdown': '', 'keyboard-nav': '', 'on-toggle': 'filter.onDropdownToggle()'}
						.dropdown-button{'dropdown-toggle': '', 'ng-class': '{selected: filter.selected.advertiser}'}
							{{filter.selected.advertiser.name || 'Select an advertiser'}}
							%span.caret
						.dropdown-menu{'dropdown-menu': '', role: 'menu'}
							.form-group.dropdown-search{'ng-click': '$event.stopPropagation()'}
								%i.fa.fa-search
								%input.form-control{'placeholder': 'Search', 'ng-model': 'filter.search'}
							%span.dropdown-title Select from list
							.dropdown-option{'ng-repeat': 'advertiser in filter.advertisers | filter: filtering | limitTo: 10', role: 'menuitem'}
								%a{href: '', 'ng-click': 'filter.select("advertiser", advertiser)'} {{advertiser.name}}
			.filter-row
				.filter-name
					%div
						City
				.filter-dropdown
					%i.fa.fa-close{'ng-show': 'filter.selected.agency', 'ng-click': 'filter.reset("agency")'}
					%span{'dropdown': '', 'keyboard-nav': '', 'on-toggle': 'filter.onDropdownToggle()'}
						.dropdown-button{'dropdown-toggle': '', 'ng-class': '{selected: filter.selected.agency}'}
							{{filter.selected.agency.name || 'Select an agency'}}
							%span.caret
						.dropdown-menu{'dropdown-menu': '', role: 'menu'}
							.form-group.dropdown-search{'ng-click': '$event.stopPropagation()'}
								%i.fa.fa-search
								%input.form-control{'placeholder': 'Search', 'ng-model': 'filter.search'}
							%span.dropdown-title Select from list
							.dropdown-option{'ng-repeat': 'agency in filter.agencies | filter: filtering | limitTo: 10', role: 'menuitem'}
								%a{href: '', 'ng-click': 'filter.select("agency", agency)'} {{agency.name}}
			.filter-row
				.filter-name
					%div
						Last Touch
				.filter-dropdown
					%i.fa.fa-close{'ng-show': 'filter.selected.date.startDate && filter.selected.date.endDate', 'ng-click': 'filter.reset("date")'}
					%span.bs-datepicker
						.dropdown-button{'dropdown-toggle': '', 'ng-class': '{selected: filter.selected.date.startDate && filter.selected.date.endDate}'}
							%div.date-picker{'date-range-picker': true,
													   'ng-model': 'filter.datePicker.date',
													   options: '{eventHandlers: {"apply.daterangepicker": filter.datePicker.apply}}'}
								%span.filter-date {{filter.getDateValue()}}
							%span.caret
		.footer
			%span.reset{'ng-click': 'filter.resetAll()'} Reset
			%button.btn-main.submit{'ng-click': 'filter.apply()'} Apply filters
	.container-fluid.contacts-inner

		.row.contacts-header.mb30
			.header-item
				.main-title Contacts
			.header-item
				%add-button{'ng-click': 'showModal()'}
					Add Contact
			.header-item.switch-row
				%span{ng: {repeat: 'filter in contactFilters', class: '{active: filter.name == contactFilter.name}', click: 'filterContacts(filter)'}}
					{{filter.name}}
			.header-item.contact-search
				%i.fa.fa-search
				%input.form-control{placeholder: 'Search', ng: {model: 'query', 'model-options': '{debounce: 500}' }}
			.header-item
				%button.btn-main{'ng-click': 'filter.open($event)'}
					%i.fa.fa-filter
					Add filter
		.row.block
			.table-wrapper
				%table.table.table-hover{infinite: {scroll: 'loadMoreContacts()', 'scroll-disabled': 'isLoading'}}
					%thead
						%tr
							%th Name
							%th Position
							%th Job Level
							%th Works At
							%th Related Accounts
							%th Email
							%th Phone
							%th Last Touch
					%tbody
						%tr{'ng-repeat': 'contact in contacts'}
							%td
								%a{href: '', 'ng-href': '#'} {{contact.name}}
							%td {{contact.position}}
							%td Job Level
							%td {{contact.primary_client_json.name}}
							%td Related Accounts
							%td {{contact.address.email}}
							%td {{contact.address.phone}}
							%td {{contact.activity_updated_at | date}}
