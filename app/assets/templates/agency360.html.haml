#agency360.z-styles
	.container-fluid.inner-agency360
		.row.mb20
			.reports-header
				.header-cell.main-title
					Agency 360
				.header-cell.filters-block
					%table
						%tr.filter-title
							%td
								Holding Company
								%span.required *
						%tr
							%td
								%ul.filter-item
									%li{ dropdown: true }
										%a{href: '', dropdown: { toggle: true }, 'ng-class': '{"empty": !filter.holdingCompany.id}' }
											{{filter.holdingCompany.id ? filter.holdingCompany.name : 'Select'}}
											%span.caret
										%ul.dropdown-menu
											%li{ ng: { repeat: 'holdingCompany in holdingCompanies | orderBy : "name"', class: '{active: holdingCompany.id === filter.holdingCompany.id}' } }
												%a{ href: '', ng: { click: 'setFilter("holdingCompany", holdingCompany)' } }
													{{holdingCompany.name}}
				.header-cell.filters-block
					%table
						%tr.filter-title
							%td Agency
						%tr
							%td
								%ul.filter-item
									%li{ dropdown: true }
										%a{href: '', dropdown: { toggle: true }, 'ng-class': '{"empty": !filter.agency.id}' }
											{{filter.agency.name}}
											%span.caret
										%ul.dropdown-menu
											%li{ ng: { class: '{active: !filter.agency.id}' } }
												%a{ href: '', ng: { click: 'setFilter("agency", defaultFilter.agency)' } }
													{{defaultFilter.agency.name}}
											%li{ ng: { repeat: 'agency in agencies | orderBy : "name"', class: '{active: agency.id === filter.agency.id}' } }
												%a{ href: '', ng: { click: 'setFilter("agency", agency)' } }
													{{agency.name}}

				.header-cell.filters-block
					%table
						%tr.filter-title
							%td
								Date Range
								%span.required *
						%tr
							%td
								%a.clickable{'ng-click': 'toggleDateRange(); $event.stopPropagation()', 'ng-class': '{empty: !filter.startPeriod.id || !filter.endPeriod.id}'}
									{{filter.startPeriod && filter.endPeriod ? filter.startPeriod.name + ' - ' + filter.endPeriod.name : 'Select'}}
									%span.caret
								%div.date-range-container{'ng-show': 'isDateRangeOpen', 'ng-click': ''}
									%div.date-range-inner
										.switch-row.mb20
											%span{'ng-class': '{active: dateRange.switch == "month"}', 'ng-click': 'dateRange.setSwitch("month")'} Month
											%span{'ng-class': '{active: dateRange.switch == "quarter"}', 'ng-click': 'dateRange.setSwitch("quarter")'} Quarter
											%span{'ng-class': '{active: dateRange.switch == "year"}', 'ng-click': 'dateRange.setSwitch("year")'} Year
										%div.dropdown-wrap
											.filters-block
												%table
													%tr.filter-title
														%td Start Period
													%tr
														%td
															%ul.filter-item
																%li{ dropdown: true }
																	%a{href: '', dropdown: { toggle: true }, 'ng-class': '{"empty": !filter.startPeriod.id}' }
																		{{filter.startPeriod.name || 'Select'}}
																		%span.caret
																	%ul.dropdown-menu
																		%li{'ng-click': '$event.stopPropagation()'}
																			%input.search-field{placeholder: 'Search', 'ng-model': 'dateRange.search', 'ng-blur': 'clearSearch()'}
																		%li.menu-item{ ng: { repeat: 'startPeriod in timeDimensions | orderBy : "start_date" | filter : filterTimeDimensions', class: '{active: startPeriod.id === filter.startPeriod.id}' } }
																			%a{ href: '', ng: { click: 'setFilter("startPeriod", startPeriod)' } }
																				{{startPeriod.name}}
											.filters-block
												%table
													%tr.filter-title
														%td End Period
													%tr
														%td
															%ul.filter-item
																%li{ dropdown: true }
																	%a{href: '', dropdown: { toggle: true }, 'ng-class': '{"empty": !filter.endPeriod.id}' }
																		{{filter.endPeriod.name || 'Select'}}
																		%span.caret
																	%ul.dropdown-menu
																		%li{'ng-click': '$event.stopPropagation()'}
																			%input.search-field{placeholder: 'Search', 'ng-model': 'dateRange.search', 'ng-blur': 'clearSearch()'}
																		%li{ ng: { repeat: 'endPeriod in timeDimensions | orderBy : "start_date" | filter : filterTimeDimensions', class: '{active: endPeriod.id === filter.endPeriod.id}' } }
																			%a{ href: '', ng: { click: 'setFilter("endPeriod", endPeriod)' } }
																				{{endPeriod.name}}

		.row
			.block
				%div.mb20
					%span.title Spend by Product
				%div#spend-product-chart-container.mb20
					%svg#spend-product-chart.agency360-chart
					%div.legend-container
				.table-wrapper
					%table.table.table-hover
						%thead
							%tr
								%th
									%b Product
								%th{'ng-repeat': 'month in months'}
									{{month.label}}
						%tbody
							%tr{'ng-repeat': 'product in spendByProducts'}
								%td {{product.name}}
								%td{'ng-repeat': 'val in product.values track by $index'}
									{{val ? (val | currency: '$' : '0') : '-'}}

		.row
			.block
				%div.mb20
					%span.title Spend by Advertiser
				%div#spend-advertiser-chart-container.mb20
					%svg#spend-advertiser-chart.agency360-chart
					%div.legend-container
				.table-wrapper
					%table.table.table-hover
						%thead
							%tr
								%th
									%b Advertiser
								%th{'ng-repeat': 'month in months'}
									{{month.label}}
						%tbody
							%tr{'ng-repeat': 'advertiser in spendByAdvertisers'}
								%td
									%a{href: '', 'ng-href': '#'} {{advertiser.name}}
								%td{'ng-repeat': 'val in advertiser.values track by $index'}
									{{val | currency: '$' : '0'}}

		.row
			.col-xs-8.pl0
				.block
					%div.mb20
						%span.title Advertisers Without Spend at [AGENCY_NAME]
					.table-wrapper
						%table.table.table-hover
							%thead
								%tr
									%th Advertiser
									%th Open Pipeline
									%th Seller
							%tbody
								%tr
									%td
										%a{href: '', 'ng-href': '#'} Advertiser 1
									%td {{250000 | currency : '$' : 0}}
									%td Seller 1
								%tr
									%td
										%a{href: '', 'ng-href': '#'} Advertiser 2
									%td {{500000 | currency : '$' : 0}}
									%td Seller 2
								%tr
									%td
										%a{href: '', 'ng-href': '#'} Advertiser 3
									%td {{750000 | currency : '$' : 0}}
									%td Seller 3
				.block
					%div.mb20
						%span.title Contacts & Related Advertisers
					.table-wrapper
						%table.table.table-hover
							%thead
								%tr
									%th Name
									%th Advertiser
									%th Email
									%th Phone
									%th Last Touch
							%tbody
								%tr
									%td
										%a{href: '', 'ng-href': '#'} John Doe
									%td
										%a{href: '', 'ng-href': '#'} Nike
									%td john_doe@gmail.com
									%td 555-12-34
									%td 05/20/2017
								%tr
									%td
										%a{href: '', 'ng-href': '#'} John Doe
									%td
										%a{href: '', 'ng-href': '#'} Nike
									%td john_doe@gmail.com
									%td 555-12-34
									%td 05/20/2017
								%tr
									%td
										%a{href: '', 'ng-href': '#'} John Doe
									%td
										%a{href: '', 'ng-href': '#'} Nike
									%td john_doe@gmail.com
									%td 555-12-34
									%td 05/20/2017

				.block
					%div.mb20
						%span.title Activity History
					.table-wrapper
						%table.table.table-hover
							%thead
								%tr
									%th Date
									%th Type
									%th Advertiser
									%th Comments
									%th Contacts
							%tbody
								%tr
									%td 05/20/2017
									%td
										.activity-type
											%span{'class': 'mr8 icon-activity-proposal'}
											%b Proposal
									%td
										%a{href: '', 'ng-href': '#'} Nike
									%td random comment
									%td
										%a{href: '', 'ng-href': '#'} John Doe
								%tr
									%td 05/20/2017
									%td
										.activity-type
											%span{'class': 'mr8 icon-activity-email'}
											%b Proposal
									%td
										%a{href: '', 'ng-href': '#'} Nike
									%td random comment
									%td
										%a{href: '', 'ng-href': '#'} John Doe
								%tr
									%td 05/20/2017
									%td
										.activity-type
											%span{'class': 'mr8 icon-activity-entertainment'}
											%b Proposal
									%td
										%a{href: '', 'ng-href': '#'} Nike
									%td random comment
									%td
										%a{href: '', 'ng-href': '#'} John Doe
			.col-xs-4.pr0
				.block
					%div.mb20
						%span.title Spend by Category
					%div#spend-category-chart-container
						%svg#spend-category-chart.agency360-chart>
						%div.legend-container

				.block
					%div.mb20
						%span.title Win Rate by Category
					%div#win-rate-category-chart-container
						%svg#win-rate-category-chart.agency360-chart

				.block
					%div.mb20
						%span.title Spend By Agency
					.table-wrapper
						%table.table.table-hover
							%thead
								%tr
									%th Agency
									%th Spend
							%tbody
								%tr
									%td
										%a{href: '', 'ng-href': '#'} Agency 1
									%td {{500000 | currency : '$' : 0}}
								%tr
									%td
										%a{href: '', 'ng-href': '#'} Agency 2
									%td {{500000 | currency : '$' : 0}}
								%tr
									%td
										%a{href: '', 'ng-href': '#'} Agency 3
									%td {{500000 | currency : '$' : 0}}
