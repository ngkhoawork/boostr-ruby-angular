#kpi-analytics
  .container
    .row
      .col-xs-12
        %h3.title KPI`s Dashboard

    .row.well.kpi-block
      .row.legend
        .col-xs-3
          %h4.kpi-block__title Win Rate by Seller
        .col-xs-9
          %span Filter by
          %ul.kpi-block__filter
            %li{ dropdown: true }
              %a{ href: '', dropdown: { toggle: true } }
                Team
                %span.caret
              %ul.dropdown-menu
                %li{ ng: { repeat: 'filter in teamFilters', class: '{active: filter.name == clientFilter.name}' } }
                  %a{ href: '', ng: { click: 'filterClients(filter)' } }
                    {{ filter.name }}
          %ul.kpi-block__filter
            %li{ dropdown: true }
              %a{ href: '', dropdown: { toggle: true } }
                Seller
                %span.caret
              %ul.dropdown-menu
                %li{ ng: { repeat: 'filter in sellerFilters', class: '{active: filter.name == clientFilter.name}' } }
                  %a{ href: '', ng: { click: 'filterClients(filter)' } }
                    {{ filter.name }}
          %ul.kpi-block__filter
            %li{ dropdown: true }
              %a{ href: '', dropdown: { toggle: true } }
                Time period
                %span.caret
              %ul.dropdown-menu
                %li{ ng: { repeat: 'filter in timeFilters', class: '{active: filter.name == clientFilter.name}' } }
                  %a{ href: '', ng: { click: 'filterClients(filter)' } }
                    {{ filter.name }}
          %ul.kpi-block__filter
            %li{ dropdown: true }
              %a{ href: '', dropdown: { toggle: true } }
                Product
                %span.caret
              %ul.dropdown-menu
                %li{ ng: { repeat: 'filter in productFilters', class: '{active: filter.name == clientFilter.name}' } }
                  %a{ href: '', ng: { click: 'filterClients(filter)' } }
                    {{ filter.name }}
          .pull-right.buttons__filter
            %button.btn.btn-primary Month
            %button.btn Quarter

      .row
        .col-xs-12.schedule
          %div.graph
      .row
        .col-md-12.table-report.text-center
          %table.table.table-hover
            %thead
              %tr
                %th
                  Teams
                %th{ ng: { repeat: 'period in winRateTimePeriods' }}
                  {{period}}
                %th.text--bold{ 'ng-click': 'changeSortType("total")'}
                  Total

            %tbody
              %tr{ ng: { repeat: 'itemsData in winRateData' }}
                %td{ ng: { repeat: 'item in itemsData' }}
                  %span{ ng: { if: 'item.win_rate !== undefined' }}
                    {{item.win_rate}}
                  %span{ ng: { if: 'item.win_rate === undefined' }}
                    {{item}}
              %tr{ ng: { if: 'winRateAverage' }}
                %td Average
                %td.text--bold{ ng: { repeat: 'average in winRateAverage' }}
                  {{average}}
                %td


